<% layout('layout/boilerplate') %>

<link rel="stylesheet" href="/stylesheets/indexPage.css">

<% if(houses.length==0){ %>
  <div class="container mt-5">
    <div class="row">
        <div class="col-6 offset-3" >
            <div class="alert alert-danger text-center " role="alert">
                <h4 class="alert-heading">Not Available in <%= location %></h4>
    
                
                
              </div>
        </div>
    </div>
</div>
<% }else{ %>


<h3 class="text-center mt-4 mb-5">Best houses near <span class="text-primary" style="font-size: 35px;"> <%= location %></span></h3> 
<div class="container mt-5 ">
  <div class="row" id="houseList">
    <% houses.forEach(house => { %>
      <div class="col-md-4">
        <div class="card house-card">
        <% if(house.images.length){ %>
          <img src="<%= house.images[0].url %>" class="card-img-top" alt="House Photo">
        <% }else{ %>
          <img src="https://static.vecteezy.com/system/resources/thumbnails/008/075/444/small/the-logo-of-home-housing-residents-real-estate-with-a-concept-that-presents-rural-nature-with-a-touch-of-leaves-and-sunflowers-vector.jpg" class="card-img-top" alt="House Photo">
        <% } %>
          <div class="card-body">
            <h5 class="card-title mb-3"><%= house.title %></h5>
            <ul class="list-group list-group-flush">
              <li class="list-group-item "> <p class="text-success" style="font-size: 30px;"> â‚¹ <%= house.price %>/day<p></li>
              <li class="list-group-item " ><strong>Address:</strong> <%= house.address %></li>
              <li class="list-group-item" ><strong>Rooms Available:</strong> <span class="text-success" style="font-size: 20px;"><%= house.availability %></span></li>
            </ul>
            <div class="text-center mt-4">
              <a href="/houses/<%=house._id%>" class="btn btn-primary btn-view px-4 py-2">View Details</a>
            </div>
          </div>
        </div>
      </div>
    <% }); %>
  </div>
</div>
<% } %>


